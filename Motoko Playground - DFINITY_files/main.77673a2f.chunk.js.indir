(this["webpackJsonpmotoko-playground"]=this["webpackJsonpmotoko-playground"]||[]).push([[0],{118:function(e,t,n){var a,i=n(135).wrap,r=n(136);e.exports=function e(){return this instanceof e?i(r()):a||(a=i(r()))}},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{let{IDL:t}=e;return t.Service({binding:t.Func([t.Text,t.Text],[t.Opt(t.Text)],["query"]),did_to_js:t.Func([t.Text],[t.Opt(t.Text)],["query"]),subtype:t.Func([t.Text,t.Text],[t.Variant({Ok:t.Null,Err:t.Text})],["query"]),merge_init_args:t.Func([t.Text,t.Text],[t.Opt(t.Text)],["query"])})}},130:function(e){e.exports=JSON.parse('[{"authors":["The DFINITY Language Team"],"dependencies":[],"description":"The Motoko standard library","homepage":"https://sdk.dfinity.org/docs/base-libraries/stdlib-intro.html","name":"base","owners":["kritzcreek","dfinity"],"repo":"https://github.com/dfinity/motoko-base.git","version":"master"},{"authors":["Matthew Hammer"],"dependencies":["base"],"description":"A framework for constructing CRUD services in Motoko for the Internet Computer.","name":"crud","owners":["matthewhammer"],"repo":"https://github.com/matthewhammer/motoko-crud.git","version":"c9bc6acbb6da81fc20d8ffec8063d9f6b4d01efd"},{"authors":["Christoph Hegemann"],"dependencies":["base"],"description":"Composable Assertions for unit testing","homepage":"https://kritzcreek.github.io/motoko-matchers/","name":"matchers","owners":["kritzcreek"],"repo":"https://github.com/kritzcreek/motoko-matchers.git","version":"v1.2.0"},{"authors":["Claudio Russo"],"dependencies":["base"],"description":"A Parsec-based parsing combinator library for Motoko","homepage":"https://crusso.github.io/mo-parsec/","name":"parsec","owners":["crusso"],"repo":"https://github.com/crusso/mo-parsec.git","version":"v1.0.0"},{"authors":["Joachim Breitner"],"dependencies":["base"],"description":"A Strongly Connected Component library for Motoko","homepage":"https://nomeata.github.io/motoko-scc/","name":"scc","owners":["nomeata"],"repo":"https://github.com/nomeata/motoko-scc.git","version":"v0.1.1"},{"authors":["Enzo Haussecker"],"dependencies":["base"],"description":"SHA256 implemented in Motoko","name":"sha256","owners":["enzoh"],"repo":"https://github.com/enzoh/motoko-sha.git","version":"9e2468f51ef060ae04fde8d573183191bda30189"},{"authors":["Inv Lo"],"dependencies":["base"],"description":"The Internet Computer Improvement Protocol library","homepage":"https://feliciss.github.io/icip","name":"icip","owners":["feliciss"],"repo":"https://github.com/feliciss/icip.git","version":"v1.2.0"},{"authors":["Christoph Hegemann"],"dependencies":["base"],"description":"A pretty printing library","homepage":"https://kritzcreek.github.io/motoko-pretty/","name":"pretty","owners":["kritzcreek"],"repo":"https://github.com/kritzcreek/motoko-pretty.git","version":"v0.1.0"},{"authors":["Enzo Haussecker","flyq"],"dependencies":["base"],"description":"SHA224 implemented in Motoko","homepage":"https://flyq.github.io/motoko-sha224/","name":"sha224","owners":["flyq"],"repo":"https://github.com/flyq/motoko-sha224.git","version":"v0.1.0"},{"authors":["Yan Chen"],"dependencies":["base"],"description":"Splay tree library","homepage":"https://chenyan2002.github.io/motoko-splay/lib.html","name":"splay","owners":["chenyan2002"],"repo":"https://github.com/chenyan2002/motoko-splay.git","version":"v0.1.0"},{"authors":["Matthew Hammer"],"dependencies":["base"],"description":"Persistent sequence representation and algorithms.","homepage":"http://matthewhammer.org/motoko-sequence/","name":"sequence","owners":["matthewhammer"],"repo":"https://github.com/matthewhammer/motoko-sequence.git","version":"v0.1.1"},{"authors":["flyq"],"dependencies":["base"],"description":"Base32 implemented in Motoko","homepage":"https://flyq.github.io/motoko-base32/","name":"base32","owners":["flyq"],"repo":"https://github.com/flyq/motoko-base32.git","version":"v0.1.1"},{"authors":["Matthew Hammer"],"dependencies":["base"],"description":"Incremental computation, dependency graphs and change propagation.","homepage":"http://matthewhammer.org/motoko-adapton/","name":"adapton","owners":["matthewhammer"],"repo":"https://github.com/matthewhammer/motoko-adapton.git","version":"v0.1.1"},{"authors":["Timo Hanke"],"dependencies":["base"],"description":"Extension of the Iter base library","name":"iterext","owners":["timohanke"],"repo":"https://github.com/timohanke/motoko-iterext.git","version":"v2.0.0"},{"authors":["Timo Hanke"],"dependencies":["base","iterext"],"description":"SHA2 family of hash functions","name":"sha2","owners":["timohanke"],"repo":"https://github.com/timohanke/motoko-sha2.git","version":"v2.0.0"}]')},136:function(e,t,n){e.exports=function(){return new Worker(n.p+"829e48309fb7eac01395.worker.js")}},273:function(e,t,n){},274:function(e,t,n){},275:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){"use strict";n.r(t);var a,i=n(1),r=n.n(i),o=n(53),c=n.n(o),s=n(2),l=n(3),d=n(118),p=n.n(d);const m=l.c.header(a||(a=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  flex-shrink: 0;\n  height: var(--sectionHeaderHeight);\n  padding: 0 1.2rem;\n  font-size: 1.2rem;\n  font-weight: bold;\n  border-bottom: 1px solid var(--grey300);\n  text-transform: uppercase;\n"])));var u,g,b,h,j,f=n.p+"static/media/icon-collapse.d8cb32bc.svg",O=n.p+"static/media/icon-open.a1ec225e.svg",y=n(8),_=n(0);const x=l.c.div(u||(u=Object(s.a)(["\n  width: 40%;\n  max-width: 60rem;\n  width: var(--candidWidth);\n"]))),w=l.c.iframe(g||(g=Object(s.a)(["\n  height: calc(var(--appHeight) - var(--sectionHeaderHeight));\n  border: none;\n  width: var(--candidWidth);\n"]))),v=Object(l.c)("img")(b||(b=Object(s.a)(["\n  width: 1.4rem;\n  margin-right: 1rem;\n  ","\n"])),(e=>e.isExpanded?"":"transform: rotate(180deg);")),k=Object(l.c)("img")(h||(h=Object(s.a)(["\n  width: 2.2rem;\n  margin-left: auto;\n"]))),C=l.c.button(j||(j=Object(s.a)(["\n  background: none;\n  border: none;\n  box-shadow: none;\n"]))),E=y.f,S="CandidUI";function T(e){let{canisterId:t,candid:n,setCandidWidth:a,forceUpdate:r,onMessage:o}=e;const[c,s]=Object(i.useState)(!0),l=Object(i.useRef)(null),d=n&&n.length<2e3?"&did=".concat(encodeURIComponent(btoa(n))):"&external-config",p="".concat(E,"/?id=").concat(t,"&tag=").concat(r)+d,u=Object(i.useCallback)((e=>{let{origin:t,source:n,data:a}=e;if(l.current)try{if("string"===typeof a&&a.startsWith(S)){if(t!==E)return void console.warn("Received Candid UI message from unexpected origin:",t,"(Expected: ".concat(E,")"));const e=JSON.parse(a.substring(S.length));null===o||void 0===o||o({origin:t,source:n,message:e})}}catch(i){console.error("Error while processing Candid UI message:"),console.error(i)}}),[o]);Object(i.useEffect)((()=>{null===a||void 0===a||a(c?"30vw":"fit-content")}),[c,a]),Object(i.useEffect)((()=>{s(!0)}),[t,n,r]),Object(i.useEffect)((()=>(window.addEventListener("message",u,!1),()=>window.removeEventListener("message",u))),[u,o,p]);const g=(e,t)=>{console.log("Sending config message to Candid UI");const a={type:"config",config:{candid:n?btoa(n):void 0},acknowledge:t};e.postMessage("".concat(S).concat(JSON.stringify(a)),E)};return Object(_.jsxs)(x,{isExpanded:c,children:[Object(_.jsxs)(m,{children:[Object(_.jsxs)(C,{onClick:()=>{s(!c)},children:[Object(_.jsx)(v,{isExpanded:c,src:f,alt:"Collapse icon"}),c?"CANDID UI":null]}),c?Object(_.jsx)(C,{onClick:()=>{const e=window.open(p,"_blank");if(!e)return void console.warn("Unable to open new tab for Candid UI");let t=20;const n=setInterval((()=>{0===--t&&clearInterval(n),g(e,n)}),500),a=t=>{const{origin:i,source:r,data:o}=t;r===e&&i===E&&"string"===typeof o&&o.startsWith(S)&&(clearInterval(n),window.removeEventListener("message",a))};window.addEventListener("message",a,!1)},children:Object(_.jsx)(k,{src:O})}):null]}),c?Object(_.jsx)(w,{ref:l,src:p,onLoad:e=>{g(e.target.contentWindow,null)}}):null]})}var A,D=n(69),M=n(127),R=n.n(M),P=n(128),I=n.n(P),F=n(7);const W=Object(l.c)("button")(A||(A=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.6rem 1.6rem;\n  font-size: 1.4rem;\n  font-weight: 500;\n  height: ",";\n  min-width: ",";\n  ",";\n  background-color: ",";\n  color: ",";\n  border: ",";\n  border-radius: ",";\n\n  &:not(:last-child) {\n    margin-right: 2rem;\n  }\n\n  > *:not(:last-child) {\n    margin-right: 0.8rem;\n  }\n\n  > p {\n    margin: 0;\n  }\n\n  &:hover {\n    background-color: ",";\n    ",";\n  }\n\n  img {\n    max-width: 2.5rem;\n  }\n"])),(e=>e.small?"3.3rem":"4.5rem"),(e=>e.small?"5.6rem":"7.8rem"),(e=>e.width?"width: ".concat(e.width):""),(e=>e.variant?"primary"===e.variant?"var(--colorPrimary)":"white":"var(--grey200)"),(e=>"primary"===e.variant?"white":"secondary"===e.variant?"var(--grey500)":"var(--grey600)"),(e=>"1px solid ".concat("secondary"===e.variant?"var(--grey400)":"transparent")),(e=>e.small?"1.7rem":"2.3rem"),(e=>"primary"===e.variant?"var(--colorPrimaryDark)":"var(--grey100)"),(e=>e.variant?"":"color: var(--colorPrimary);\n           border: 1px solid var(--grey300);\n\n           > svg * {\n             fill: var(--colorPrimary);\n           }\n           "));var N;const L=l.c.div(N||(N=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: flex-end;\n"])));var q=n(129),U=n(114),z=n.n(U);const B=n(263),H=e=>{Object(q.configure)(e,{snippets:!0}),n.e(3).then(n.t.bind(null,299,7)).then((t=>{e.languages.registerDocumentFormattingEditProvider("motoko",{provideDocumentFormattingEdits(e,n,a){const i=e.getValue(),r=z.a.format(i,{plugins:[t],filepath:"*.mo"});return[{range:e.getFullModelRange(),text:r}]}})})).catch((e=>console.error(e))),e.languages.registerHoverProvider("motoko",{provideHover(t,n){for(const a of e.editor.getModelMarkers()){const t=new e.Range(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn),i=B[a.code];if(i&&t.containsPosition(n))return{range:t,contents:[{value:"```text\n".concat(a.message,"\n```")},{value:i.replace(/^# M[0-9]+\s+/,"")}]}}}})},K={clearLogs(){},log(e){},logLines:[]},V=Object(i.createContext)(K);function G(e){let{children:t}=e;const n=(()=>{const[e,t]=Object(i.useState)([]);return{clearLogs:()=>t([]),log:e=>{const n=new Date(Date.now()).toLocaleTimeString();t((t=>[...t,"[".concat(n,"] ").concat(e)]))},logLines:e}})();return Object(_.jsx)(V.Provider,{value:n,children:t})}const J=()=>Object(i.useContext)(V);var X,Y,Q,Z,$=n.p+"static/media/icon-caret-down.19e60adb.svg";const ee=Object(l.c)(m)(X||(X=Object(s.a)(["\n  padding: 0 1rem;\n  height: 2.4rem;\n  border-top: 1px solid var(--grey300);\n"]))),te=l.c.div(Y||(Y=Object(s.a)(["\n  flex: 1;\n  height: var(--consoleHeight);\n  overflow: auto;\n  padding-left: 0.5rem;\n"]))),ne=l.c.button(Q||(Q=Object(s.a)(["\n  background: none;\n  border: none;\n  box-shadow: none;\n"]))),ae=l.c.img(Z||(Z=Object(s.a)(["\n  ","\n"])),(e=>e.isExpanded?"":"transform: rotate(180deg);"));function ie(e){let{setConsoleHeight:t}=e;const[n,a]=Object(i.useState)(!0),r=Object(i.useRef)(null),o=J();return Object(i.useEffect)((()=>{r&&r.current&&r.current.scrollIntoView({behavior:"smooth"})}),[o.logLines.length]),Object(i.useEffect)((()=>{t(n?"24rem":"3rem")}),[n]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(ee,{children:["Log",Object(_.jsx)(L,{children:Object(_.jsx)(ne,{onClick:()=>a(!n),children:Object(_.jsx)(ae,{isExpanded:n,src:$,alt:"Caret icon"})})})]}),Object(_.jsx)(te,{children:o.logLines.map(((e,t)=>Object(_.jsx)("pre",{ref:r,style:{whiteSpace:"normal"},children:e},t)))})]})}var re=n.p+"static/media/icon-spin.ba67f5cb.gif";function oe(e){return Object.entries(e).map((e=>{let[t,n]=e;return[t,n.id.toText()]}))}function ce(e){if("README"in e)return"README";if("Main.mo"in e)return"Main.mo";const t=Object.keys(e);if(!t.length)return null;return t.find((e=>e.endsWith("Main.mo")))||t[0]}const se={init:e=>({files:{"Main.mo":""},selectedFile:"Main.mo",canisters:{},selectedCanister:null,packages:{},origin:{origin:"playground",tags:[],session_tags:[]}}),reduce(e,t){switch(t.type){case"loadProject":return{...e,files:t.payload.files,selectedFile:ce(t.payload.files)};case"loadPackage":return{...e,packages:{...e.packages,[t.payload.name]:t.payload.package}};case"reset":return this.init(t.payload);case"selectFile":return{...e,selectedFile:t.payload.path};case"selectCanister":return{...e,selectedCanister:t.payload.name};case"deleteCanister":{const n=t.payload.name;return delete e.canisters[n],{...e,selectedCanister:e.selectedCanister===n?null:e.selectedCanister}}case"saveFile":return{...e,files:{...e.files,[t.payload.path]:t.payload.contents}};case"deployWorkplace":{const n=t.payload.canister.name;return{...e,selectedCanister:t.payload.do_not_select?e.selectedCanister:n,canisters:{...e.canisters,[n]:t.payload.canister}}}case"setOrigin":{let n=document.referrer||window.opener&&"(opener)"||void 0;return n&&t.payload.tags.push("ref:".concat(n)),{...e,origin:t.payload}}case"addSessionTag":return e.origin.session_tags?e.origin.session_tags.push(t.payload):e.origin.session_tags=[t.payload],e;case"clearSessionTags":return{...e,origin:{origin:e.origin.origin,tags:e.origin.tags,session_tags:[]}};default:}return e}},le=i.createContext((()=>{console.warn("using default WorkplaceDispathcContext. Make sure to Provide one in your component tree")})),de=i.createContext((()=>{console.warn("provide a value for worker")}));function pe(e,t){e.forEach((e=>{const{message:n,severity:a,source:i,range:{start:r},code:o}=e,c="".concat(1===a?"Error":"Warning"," [").concat(o,"] in file ").concat(i,":").concat(r.line,":").concat(r.character,"   ").concat(n);t.log(c)}))}function me(e,t){let n=WebAssembly.Module.customSections(e,"icp:public ".concat(t));if(0===n.length&&(n=WebAssembly.Module.customSections(e,"icp:private ".concat(t))),0===n.length)return;const a=new TextDecoder,i=new Uint8Array(n[0]);return a.decode(i)}async function ue(e,t,n,a,i,r,o,c,s,l){try{s.log("Deploying code...");let d=null;if(n){if("reinstall"!==i&&"upgrade"!==i)throw new Error("Unknown mode ".concat(i));d=await be(n,r,a,i,o,c,s,l)}else{if("install"!==i)throw new Error("Cannot ".concat(i," for new canister"));s.log("Requesting a new canister id..."),n=await async function(e,t,n){const a=BigInt(Date.now())*BigInt(1e6),i=await e.pow(a),r=await y.a.getCanisterId(i,ge(n,!1));return t.log("Got canister id ".concat(r.id)),{id:r.id,isExternal:!1,timestamp:r.timestamp}}(e,s,l),d=await be(n,r,a,"install",o,c,s,l)}return d.name=t,d}catch(d){throw s.log(d.message),d}}function ge(e,t){const n=e.session_tags&&t?e.tags.concat(e.session_tags):e.tags;return{origin:e.origin,tags:[...new Set(n)]}}async function be(e,t,n,a,i,r,o,c){if(!e)throw new Error("no canister id");const s={arg:[...n],wasm_module:[...t],mode:{[a]:null},canister_id:e.id},l=i&&r?[16]:[],d={profiling:i,is_whitelisted:!1,origin:ge(c,!0),start_page:l,page_limit:[]};return e=await y.a.installCode(e,s,d),o.log("Code installed at canister id ".concat(e.id)),e}var he=[/^https?:\/\/(localhost|127\.0\.0\.1)(:[0-9]+)?$/,"https://blocks-editor.github.io"];const je={};let fe;async function Oe(e,t,n){if(fe)return fe;return window.addEventListener("message",(async a=>{let{origin:i,source:r,data:o}=a;try{if(!he.some((e=>e instanceof RegExp?e.test(i):e===i)))return;if("string"===typeof o&&o.startsWith(e)){const a=JSON.parse(o.substring(e.length));if(await(async e=>{var a;"workplace"===e.type&&(e.actions&&e.actions.forEach((e=>{t(e)})),e.packages&&await Promise.all(e.packages.map((async e=>{await n.fetchPackage(e),t({type:"loadPackage",payload:{name:e.name,package:e}})}))),e.deploy&&await(null===(a=je.deploy)||void 0===a?void 0:a.call(je)))})(a),!(r instanceof MessagePort)){const t={acknowledge:a.acknowledge};null===r||void 0===r||r.postMessage("".concat(e).concat(JSON.stringify(t)),{targetOrigin:i})}}await t({type:"setOrigin",payload:{origin:"playground",tags:["post:".concat(i)]}})}catch(c){console.error("Error in editor integration message listener:"),console.error(c)}}),!1),fe={files:{"Main.mo":""}},fe}var ye,_e,xe,we;const ve=l.c.div(ye||(ye=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  height: var(--appHeight);\n  border: 1px solid var(--grey300);\n  border-top: none;\n  border-bottom: none;\n  max-width: calc(100vw - var(--explorerWidth) - var(--candidWidth));\n"]))),ke=l.c.div(_e||(_e=Object(s.a)(["\n  height: calc(var(--editorHeight) - var(--consoleHeight) - 2.4rem);\n\n  .margin {\n    background-color: var(--grey200) !important;\n    width: 5.5ch !important;\n  }\n  ","\n"])),(e=>e.isHidden?"display: none;":"")),Ce=Object(l.c)(ke)(xe||(xe=Object(s.a)(["\n  overflow: auto;\n  padding: 2rem;\n"]))),Ee=l.c.div(we||(we=Object(s.a)(["\n  color: #888;\n  display: flex;\n  align-content: center;\n  text-transform: none;\n\n  a {\n    display: inline-block;\n    padding-left: 0.5rem;\n    padding-right: 1rem;\n  }\n"])));function Se(e){let{state:t,logger:n,setConsoleHeight:a,deploySetter:r,isDeploying:o}=e;const c=Object(i.useContext)(de),s=Object(i.useContext)(le),[l,d]=Object(i.useState)(!1),p=t.selectedFile,u=p?t.files[p]:"",g=p.endsWith(".mo")?p:t.files["Main.mo"]?"Main.mo":"",b=Object(D.b)(),h=async()=>{if(!p||!p.endsWith("mo"))return;!function(e,t,n,a){const i=[];e.forEach((e=>{if(e.source!==a)return;const t=1===e.severity?n.MarkerSeverity.Error:n.MarkerSeverity.Warning,r={startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,message:e.message,code:e.code,severity:t};i.push(r)})),n.editor.setModelMarkers(t,"moc",i)}((await c.Moc({type:"check",file:p})).diagnostics,null===b||void 0===b?void 0:b.editor.getModel("file:///".concat(p)),b,p)},j=I()((async()=>{const e=f.current;if(!e)return;const t=e.getValue();s({type:"saveFile",payload:{path:p,contents:t}}),p.endsWith("mo")&&(await c.Moc({type:"save",file:p,content:t}),await h())}),1e3,{leading:!1}),f=Object(i.useRef)(),O=()=>{var e;d(!0),null===(e=f.current)||void 0===e||e.getAction("editor.action.formatDocument").run()},x=async()=>{const e=oe(t.canisters);await c.saveWorkplaceToMotoko(t.files),await c.Moc({type:"setActorAliases",list:e}),g||n.log("Select a main entry file to deploy");const a=await async function(e,t,n){const a=await e.Moc({type:"candid",file:t});a.diagnostics&&pe(a.diagnostics,n);const i=a.code;if(i){if(""!==i.trim())return i;n.log("cannot deploy: ".concat(t," has no actor"))}else n.log("cannot deploy: syntax error")}(c,g,n);if(a){const e=(await Object(y.b)(a)).init({IDL:F.a});await r.setInitTypes(e),await r.setCandidCode(a),await r.setWasm(void 0),await r.setMainFile(g),await r.setShowDeployModal(!0)}};return je.deploy=x,Object(i.useEffect)((()=>{b&&h()}),[b,t]),Object(_.jsxs)(ve,{children:[Object(_.jsxs)(m,{children:["Editor",Object(_.jsxs)(L,{children:[!!p.endsWith(".mo")&&Object(_.jsxs)(_.Fragment,{children:[!!l&&Object(_.jsxs)(Ee,{children:["Formatting is experimental.",Object(_.jsx)("a",{href:"https://github.com/dfinity/prettier-plugin-motoko/issues",target:"_blank",rel:"noreferrer",children:"Report bugs here."})]}),Object(_.jsx)(W,{onClick:O,variant:"secondary",small:!0,children:Object(_.jsx)("p",{children:"Format"})})]}),Object(_.jsxs)(W,{onClick:x,disabled:o,variant:"primary",small:!0,children:[Object(_.jsx)("img",{src:o?re:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAhCAYAAABN2CLhAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANYSURBVHgBzVjRcdswDIXu+l93gioT1J2gygTxBsoGcSawN4g3sDNBugGzgTNB6S4QuwsYJY5QDUGgTNlOk3eHkw2C4CMIQqQKeGMgYhUe34J8YdVLkOeiKHbw0RDI3gXZYhrLICV8FAQyM8yDDzKGgSjgwuDoeaGiNHiEmBbUdhNEE70O6fIM7wWKnIrm2LC55Sg32L5rqoTBR9jO5bVFiHSK+Dp3jEHpQYTCYwJxmb+y+jeoisDRdUFGbLMJMg/tj8of+VkLu0WwuYdLgKPi8DiWGEucFcmmvVS+K2VTwbnA46XLgmvIhedctfkgtRpjqtpHcCrQLl0uyALjZrplUs7mHiOL9kotUUQd25Nz/H8yhC85mRhkqx77ErtVoYnclG10u5c+w+8VdkE2M8iBcr6CAeAoWeRrnpwm94Cx6pDQKj4Z/R32pQ1H5N9gcAIS5AhUAmkVZ0p/k+DhJXHSF4kBiWjJf69CGdqodippJJ+D/IFY0l6sQxDbPgl/Fjah71WCSwmxfDb977UBzX6rZ6ZsJpjGEhNvNrTzHXm8sWFbi/+VtJeGD2gsozF4hf0gElNIgPtTGZ3zc9Tj/0boXaOUxhIV9AAPZYxkzJFxykcNJwDjZvSoziMoarkkIXFSccd2re0s+0DiegUmLdKslLnsmcDgQRVxBxeCTBupnGIXHk84MqpUqRI2FM07tqVxZn1joSifusHKTXI4KD+xvZmsCtR3nnG8Ws0x4U5xeoWeKHiD/BJjbhGpZiOOEj7kQCPW0aZdGySfMA97mkhftKyjpQWyKY9Em8ppjd19Uwl7mtBCTGov5Bf7yNtjaJ8jcolvM/otMX2zSa5kLvkKD4cZxyJJWW+2OeaB+mbvm6zrFsZlJKFZ07mErlh0zqA3lnz7kY5u1i/cj+znEK9jGxZCyVKz3waXuZVj/jeMZMSP+F+IvufXdey+KT1283TLA3ulqzL8F0G+S/+QgU9H2kvxm27b13JC4bETN/AVxJs1gdLCBd2z+N9sqB3LBuKx9ocYYwvnAtsfXswPKnh4s3k8D1TaTjpkWcSdcr7GQ/XwxuCkXxl6mjTV21ds1+A966ZwKeCwl0xt9DVrLcZVpDL6dh8gMb4+K4hflko45CWVv5//8wPiXyySzE5+FvwCAAAAAElFTkSuQmCC",alt:"Rabbit icon"}),Object(_.jsx)("p",{children:o?"Deploying...":"Deploy"})]})]})]}),Object(_.jsx)(Ce,{isHidden:"README"!==p,children:Object(_.jsx)(R.a,{linkTarget:"_blank",children:"README"===p?u:""})}),Object(_.jsx)(ke,{isHidden:"README"===p,children:Object(_.jsx)(D.a,{defaultLanguage:"motoko",value:"README"===p?"":u,path:p,beforeMount:H,onMount:e=>{f.current=e,e.onKeyDown((e=>{(e.ctrlKey||e.metaKey)&&e.shiftKey&&"f"===e.browserEvent.key&&(e.stopPropagation(),e.preventDefault(),O())}))},onChange:e=>{j()},options:{minimap:{enabled:!1},wordWrap:"on",wrappingIndent:"indent",scrollBeyondLastLine:!1,fontSize:16,tabSize:2,fixedOverflowWidgets:!0}})}),Object(_.jsx)(ie,{setConsoleHeight:a})]})}var Te,Ae,De,Me=n.p+"static/media/icon-package.2bc5b600.svg",Re=n.p+"static/media/icon-canister.f34ff44c.svg",Pe=n.p+"static/media/icon-close.58dd2192.svg",Ie=n.p+"static/media/icon-plus.35690a9e.svg";const Fe=Object(l.c)("button")(Te||(Te=Object(s.a)(['\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 4rem;\n  padding: 0 1.6rem;\n  font-family: "CircularXX", sans-serif;\n  font-size: 1.4rem;\n  color: ',";\n  border: none;\n  background-color: ",";\n  border-bottom: 1px solid var(--grey300);\n\n  > p {\n    margin: 0;\n  }\n\n  > *:not(:last-child) {\n    margin-right: 0.8rem;\n  }\n\n  &:hover {\n    color: var(--colorPrimary);\n  }\n\n  &[disabled] {\n    cursor: default;\n\n    &:hover {\n      color: var(--grey600);\n    }\n  }\n"])),(e=>e.isActive?"var(--colorPrimaryDark)":"var(--grey600)"),(e=>e.isActive?"var(--colorPrimaryLight)":"var(--grey100)")),We=Object(l.c)("div")(Ae||(Ae=Object(s.a)(["\n  height: ",";\n  width: ",";\n  border: 1px solid var(--grey300);\n  border-radius: 0.8rem;\n  overflow: hidden;\n"])),(e=>{let{dimensions:t}=e;return t.height}),(e=>{let{dimensions:t}=e;return t.width})),Ne=Object(l.c)("div")(De||(De=Object(s.a)(["\n  height: ",";\n  width: ",";\n  overflow-y: auto;\n  border-radius: 0.8rem;\n\n  > "," {\n    background-color: white;\n\n    &:last-child {\n      border-bottom: none;\n    }\n\n    &:hover {\n      background-color: var(--grey100);\n    }\n  }\n"])),(e=>{let{dimensions:t}=e;return t.height}),(e=>{let{dimensions:t}=e;return t.width}),Fe);function Le(e){let{height:t="auto",width:n="100%",children:a}=e;return Object(_.jsx)(We,{dimensions:{height:t,width:n},children:Object(_.jsx)(Ne,{dimensions:{height:t,width:n},children:a})})}var qe,Ue,ze=n(30),Be=n.n(ze);const He=750,Ke=Object(l.a)(qe||(qe=Object(s.a)(["\n  .ReactModal__Content {\n    opacity: 0;\n    transform: translateY(-10rem);\n    transition: transform ","ms ease, opacity ","ms;\n  }\n  .ReactModal__Content--after-open {\n    opacity: 1;\n    transform: translateY(0px);\n  }\n  .ReactModal__Content--before-close {\n    opacity: 0;\n    transform: translateY(-10rem);\n  }\n  \n  .ReactModal__Overlay {\n    opacity: 0;\n    transition: all ","ms ease-in-out;\n  }\n\n  .ReactModal__Overlay--after-open {\n    opacity: 1;\n  }\n\n  .ReactModal__Overlay--before-close {\n    opacity: 0;\n  }\n"])),He,625,625);Be.a.setAppElement("#root"),Be.a.defaultStyles={...Be.a.defaultStyles,overlay:{...Be.a.defaultStyles.overlay,backgroundColor:"#000c"},content:{...Be.a.defaultStyles.content,display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",inset:"initial",background:"transparent",padding:"0",border:"none"}};const Ve=l.c.div(Ue||(Ue=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 4rem;\n  background-color: white;\n  border-radius: 2.4rem;\n"])));function Ge(e){let{isOpen:t=!1,label:n="Dialog",close:a,children:i,...r}=e;return Object(_.jsxs)(Be.a,{isOpen:t,contentLabel:n,onRequestClose:a,closeTimeoutMS:He,...r,children:[Object(_.jsx)(Ke,{}),Object(_.jsx)(Ve,{children:i})]})}var Je,Xe,Ye,Qe,Ze,$e,et,tt=n.p+"static/media/icon-caret-right.a9848b94.svg";const nt=l.c.label(Je||(Je=Object(s.a)(["\n  display: flex;\n  flex-direction: ",";\n  width: 100%;\n  margin: 0 0 2rem;\n  align-items: flex-start;\n  justify-content: flex-end;\n  ","\n\n  &:last-child,\n  &:only-child {\n    margin-bottom: 3rem;\n  }\n"])),(e=>{let{type:t}=e;return"checkbox"===t?"row-reverse":"column"}),(e=>{let{type:t}=e;return"checkbox"===t&&"line-height: 1;"})),at=l.c.p(Xe||(Xe=Object(s.a)(["\n  margin: ",";\n  padding: 0;\n  font-size: 1.3rem;\n  font-weight: 500;\n"])),(e=>{let{type:t}=e;return"checkbox"===t?"0 0 0 1.5rem":"0"})),it=l.c.span(Ye||(Ye=Object(s.a)(['\n  &::after {\n    content: "*";\n    color: var(--colorError);\n  }\n']))),rt=Object(l.b)(Qe||(Qe=Object(s.a)(["\n  width: 100%;\n  color: var(--grey700);\n  border: 1px solid var(--grey500);\n"]))),ot=l.c.input(Ze||(Ze=Object(s.a)(["\n  ",';\n  padding: 0.3rem 1rem;\n\n  &[type="checkbox"] {\n    width: unset;\n  }\n'])),rt),ct=l.c.input($e||($e=Object(s.a)(["\n  {StyledInput}\n  border: unset;\n"]))),st=l.c.select(et||(et=Object(s.a)(["\n  ",";\n  padding: 0.5rem 0.6rem;\n"])),rt);function lt(e){let{type:t,...n}=e;return"select"===t?Object(_.jsx)(st,{...n}):"file"===t?Object(_.jsx)(ct,{type:t,...n}):Object(_.jsx)(ot,{type:t,...n})}function dt(e){var t;let{labelText:n,type:a="text",required:i=!1,...r}=e;return Object(_.jsxs)(nt,{"aria-label":null!==(t=r["aria-label"])&&void 0!==t?t:n,type:a,children:[Object(_.jsxs)(at,{type:a,children:[n,i&&Object(_.jsx)(it,{title:"Required"})]}),Object(_.jsx)(lt,{type:a,name:n,"aria-required":i,...r})]})}var pt,mt,ut,gt;const bt=l.c.div(pt||(pt=Object(s.a)(["\n  width: 100%;\n  margin-top: 1rem;\n  font-size: 1.6rem;\n  font-weight: 500;\n"]))),ht=l.c.div(mt||(mt=Object(s.a)(["\n  margin: 1rem 0;\n  font-size: 1.4rem;\n  color: var(--colorError);\n"]))),jt=l.c.div(ut||(ut=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 2rem;\n  width: 100%;\n"]))),ft=Object(l.c)(W)(gt||(gt=Object(s.a)(["\n  width: 12rem;\n"])));function Ot(e){let{importCode:t,close:n,isPackageModal:a=!1}=e;const[r,o]=Object(i.useState)("dfinity/examples"),[c,s]=Object(i.useState)("master"),[l,d]=Object(i.useState)("motoko/counter/src"),[p,m]=Object(i.useState)(""),[u,g]=Object(i.useState)(""),b=Object(i.useContext)(de),h=Object(i.useContext)(le);return Object(_.jsxs)(bt,{children:[a&&Object(_.jsx)(dt,{type:"text",labelText:"Package name",value:u,onChange:e=>g(e.target.value)}),Object(_.jsx)(dt,{type:"text",labelText:"Github repo",value:r,onChange:e=>o(e.target.value)}),Object(_.jsx)(dt,{type:"text",labelText:"Branch",value:c,onChange:e=>s(e.target.value)}),Object(_.jsx)(dt,{type:"text",labelText:"Directory",value:l,onChange:e=>d(e.target.value)}),Object(_.jsx)(ht,{children:p}),Object(_.jsx)(jt,{children:Object(_.jsx)(ft,{onClick:a?async function(){if(!u)return void m("Package name cannot be empty");const e={repo:"https://github.com/".concat(r,".git"),version:c,name:u,dir:l};await b.fetchPackage(e)?(m(""),t(e),n()):m('Cannot find repo or the directory contains no ".mo" files.')}:async function(){const e=await b.fetchGithub({repo:r,branch:c,dir:l});e?(m(""),t(e),n(),await h({type:"setOrigin",payload:{origin:"playground",tags:["git:".concat(r)]}})):m('Cannot find repo or the directory contains no ".mo" files.')},variant:"primary",children:"Import"})})]})}var yt,_t,xt,wt,vt,kt=n(130);const Ct=l.c.div(yt||(yt=Object(s.a)(["\n  ","\n  display: flex;\n  flex-direction: column;\n"])),(e=>{var t,n;let{dimensions:a}=e;return a?"\n        width: ".concat(null!==(t=null===a||void 0===a?void 0:a.width)&&void 0!==t?t:"auto",";\n        height: ").concat(null!==(n=null===a||void 0===a?void 0:a.height)&&void 0!==n?n:"auto",";\n      "):""})),Et=l.c.div(_t||(_t=Object(s.a)(["\n  padding: 1.5rem;\n  flex: 1;\n  border: 1px solid var(--grey400);\n  border-top: none;\n  border-radius: 0 0 1.5rem 1.5rem;\n"]))),St=l.c.div(xt||(xt=Object(s.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"]))),Tt=l.c.button(wt||(wt=Object(s.a)(["\n  display: flex;\n  flex-grow: 1;\n  justify-content: center;\n  align-items: center;\n  padding: 1.5rem;\n  border: 1px solid var(--grey400);\n  border-radius: 0.8rem 0.8rem 0 0;\n\n  &:not(:last-child) {\n    margin-right: -1px;\n  }\n\n  ","\n"])),(e=>{let{isActive:t}=e;return t?"\n        background-color: white;\n        color: var(--grey700);\n        border-bottom-color: transparent;":"\n        background-color: var(--grey100);\n        color: var(--grey600);"})),At=l.c.div(vt||(vt=Object(s.a)(["\n  flex-grow: 1;\n"])));function Dt(e){var t;const{children:n,onTabSelect:a=(()=>{}),activeTab:r=0,height:o,width:c}=e,[s,l]=Object(i.useState)(r);Object(i.useEffect)((()=>{l(r)}),[r]);const d=[],p=[];return i.Children.forEach(n,((e,t)=>{const{children:n,label:i,isActive:r=s===t}=e.props;d.push(Object(_.jsx)(Tt,{isActive:r,onClick:()=>{return a(e=t),void l(e);var e},children:i},t)),p.push(Object(_.jsx)(Et,{children:n},t))})),Object(_.jsxs)(Ct,{dimensions:{height:o,width:c},children:[Object(_.jsx)(St,{children:d}),Object(_.jsx)(At,{children:null!==(t=p[s])&&void 0!==t?t:null})]})}function Mt(e){return null}var Rt,Pt,It,Ft;const Wt=l.c.div(Rt||(Rt=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 46rem;\n  font-size: 1.4rem;\n"]))),Nt=l.c.div(Pt||(Pt=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"])));function Lt(e){let{onClick:t,children:n}=e;return Object(_.jsx)(Fe,{onClick:t,children:Object(_.jsxs)(Nt,{children:[Object(_.jsx)("span",{style:{whiteSpace:"nowrap",overflowX:"hidden"},children:n}),Object(_.jsx)("img",{src:tt,alt:"Continue"})]})})}const qt=l.c.span(It||(It=Object(s.a)(["\n  margin: 1rem 0 2rem;\n  font-size: 1.6rem;\n  font-weight: 500;\n"]))),Ut=Object(l.c)(W)(Ft||(Ft=Object(s.a)(["\n  width: 24rem;\n  margin-top: 3rem;\n"])));function zt(e){let{isOpen:t,close:n,loadPackage:a}=e;const r=Object(i.useContext)(de);return Object(_.jsx)(Ge,{isOpen:t,close:n,label:"Load package",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:Object(_.jsxs)(Wt,{children:[Object(_.jsx)(qt,{children:"Select a Motoko package"}),Object(_.jsxs)(Dt,{width:"44rem",children:[Object(_.jsx)(Mt,{label:"Vessel packages",children:Object(_.jsx)(Le,{height:"36.1rem",children:kt.map((e=>Object(_.jsxs)(Lt,{onClick:()=>async function(e){if(!await r.fetchPackage(e))throw new Error("Fail to load package ".concat(e.name));await a(e),await n()}(e),children:[e.name," ",e.description?"-- ".concat(e.description):""]},e.name)))})}),Object(_.jsx)(Mt,{label:"Import from Github",children:Object(_.jsx)(Ot,{isPackageModal:!0,importCode:a,close:n})})]}),Object(_.jsx)(Ut,{onClick:n,children:"Cancel"})]})})}var Bt,Ht;const Kt=l.c.div(Bt||(Bt=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 34rem;\n  font-size: 1.6rem;\n  font-weight: 500;\n"]))),Vt=l.c.div(Ht||(Ht=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-top: 3rem;\n"])));function Gt(e){let{isOpen:t,close:n}=e;const[a,r]=Object(i.useState)(""),o=Object(i.useContext)(de),c=Object(i.useContext)(le);async function s(){if(!a)return;const e=a.endsWith(".mo")?a:"".concat(a,".mo");await o.Moc({type:"save",file:e,content:""}),await c({type:"saveFile",payload:{path:e,contents:""}}),await c({type:"selectFile",payload:{path:e}}),await n()}return Object(_.jsx)(Ge,{isOpen:t,close:n,label:"Add file",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:Object(_.jsxs)(Kt,{children:[Object(_.jsx)("p",{style:{marginBottom:"2rem"},children:"Add a new file"}),Object(_.jsx)(dt,{type:"text",labelText:"Filename",value:a,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&s(),autoFocus:!0}),Object(_.jsxs)(Vt,{children:[Object(_.jsx)(W,{variant:"primary",onClick:s,children:"Add"}),Object(_.jsx)(W,{onClick:n,children:"Cancel"})]})]})})}var Jt=n(5);const Xt={"aaaaa-aa":{name:"ic",candid:"// from spec 0.18.5\ntype canister_id = principal;\ntype user_id = principal;\ntype wasm_module = blob;\n\ntype canister_settings = record {\n  controllers : opt vec principal;\n  compute_allocation : opt nat;\n  memory_allocation : opt nat;\n  freezing_threshold : opt nat;\n};\n\ntype definite_canister_settings = record {\n  controllers : vec principal;\n  compute_allocation : nat;\n  memory_allocation : nat;\n  freezing_threshold : nat;\n};\n\ntype ecdsa_curve = variant { secp256k1; };\n\ntype satoshi = nat64;\n\ntype bitcoin_network = variant {\n  mainnet;\n  testnet;\n};\n\ntype bitcoin_address = text;\n\ntype block_hash = blob;\n\ntype outpoint = record {\n  txid : blob;\n  vout : nat32\n};\n\ntype utxo = record {\n  outpoint: outpoint;\n  value: satoshi;\n  height: nat32;\n};\n\ntype get_utxos_request = record {\n  address : bitcoin_address;\n  network: bitcoin_network;\n  filter: opt variant {\n    min_confirmations: nat32;\n    page: blob;\n  };\n};\n\ntype get_current_fee_percentiles_request = record {\n  network: bitcoin_network;\n};\n\ntype get_utxos_response = record {\n  utxos: vec utxo;\n  tip_block_hash: block_hash;\n  tip_height: nat32;\n  next_page: opt blob;\n};\n\ntype get_balance_request = record {\n  address : bitcoin_address;\n  network: bitcoin_network;\n  min_confirmations: opt nat32;\n};\n\ntype send_transaction_request = record {\n  transaction: blob;\n  network: bitcoin_network;\n};\n\ntype millisatoshi_per_byte = nat64;\n\nservice ic : {\n  create_canister : (record {\n    settings : opt canister_settings\n  }) -> (record {canister_id : canister_id});\n  update_settings : (record {\n    canister_id : principal;\n    settings : canister_settings\n  }) -> ();\n  install_code : (record {\n    mode : variant {install; reinstall; upgrade};\n    canister_id : canister_id;\n    wasm_module : wasm_module;\n    arg : blob;\n  }) -> ();\n  uninstall_code : (record {canister_id : canister_id}) -> ();\n  start_canister : (record {canister_id : canister_id}) -> ();\n  stop_canister : (record {canister_id : canister_id}) -> ();\n  canister_status : (record {canister_id : canister_id}) -> (record {\n      status : variant { running; stopping; stopped };\n      settings: definite_canister_settings;\n      module_hash: opt blob;\n      memory_size: nat;\n      cycles: nat;\n      idle_cycles_burned_per_day: nat;\n  });\n  delete_canister : (record {canister_id : canister_id}) -> ();\n  deposit_cycles : (record {canister_id : canister_id}) -> ();\n  raw_rand : () -> (blob);\n\n  // Threshold ECDSA signature\n  ecdsa_public_key : (record {\n    canister_id : opt canister_id;\n    derivation_path : vec blob;\n    key_id : record { curve: ecdsa_curve; name: text };\n  }) -> (record { public_key : blob; chain_code : blob; });\n  sign_with_ecdsa : (record {\n    message_hash : blob;\n    derivation_path : vec blob;\n    key_id : record { curve: ecdsa_curve; name: text };\n  }) -> (record { signature : blob });\n\n  // bitcoin interface\n  bitcoin_get_balance: (get_balance_request) -> (satoshi);\n  bitcoin_get_utxos: (get_utxos_request) -> (get_utxos_response);\n  bitcoin_send_transaction: (send_transaction_request) -> ();\n  bitcoin_get_current_fee_percentiles: (get_current_fee_percentiles_request) -> (vec millisatoshi_per_byte);\n\n  // provisional interfaces for the pre-ledger world\n  provisional_create_canister_with_cycles : (record {\n    amount: opt nat;\n    settings : opt canister_settings\n  }) -> (record {canister_id : canister_id});\n  provisional_top_up_canister :\n    (record { canister_id: canister_id; amount: nat }) -> ();\n}"},"rrkah-fqaaa-aaaaa-aaaaq-cai":{name:"governance"},"ryjl3-tyaaa-aaaaa-aaaba-cai":{name:"ledger"}};var Yt,Qt,Zt,$t,en,tn;const nn=l.c.div(Yt||(Yt=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 36rem;\n  font-size: 1.6rem;\n  font-weight: 500;\n"]))),an=l.c.div(Qt||(Qt=Object(s.a)(["\n  margin: 2rem 0;\n"]))),rn=l.c.div(Zt||(Zt=Object(s.a)(["\n  width: 100%;\n  background-color: var(--colorWarning);\n  border-radius: 1.5rem;\n  margin-top: 1rem;\n  padding: 1rem 2rem;\n  font-size: 1.4rem;\n"]))),on=l.c.div($t||($t=Object(s.a)(["\n  padding: 0 2rem;\n  width: 100%;\n  height: 30rem;\n  position: relative;\n"]))),cn=l.c.div(en||(en=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n"]))),sn=Object(l.c)(W)(tn||(tn=Object(s.a)(["\n  width: 10rem;\n"])));function ln(e){let{isOpen:t,close:n,deploySetter:a}=e;const[r,o]=Object(i.useState)(""),[c,s]=Object(i.useState)(""),[l,d]=Object(i.useState)(""),[p,m]=Object(i.useState)(void 0),[u,g]=Object(i.useState)(!1),[b,h]=Object(i.useState)(""),[j,f]=Object(i.useState)(!1),O=Object(i.useContext)(de),x=Object(i.useContext)(le);function w(e){const t=new FileReader;t.addEventListener("load",(()=>{"string"===typeof t.result&&d(t.result)})),t.readAsText(e.target.files[0])}return Object(i.useEffect)((()=>{g(!1)}),[c]),Object(_.jsx)(Ge,{isOpen:t,close:n,label:"Import canister",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:Object(_.jsxs)(nn,{children:[Object(_.jsx)(an,{children:"Add a canister"}),Object(_.jsxs)(Dt,{width:"34rem",children:[Object(_.jsx)(Mt,{label:"Import canister",children:Object(_.jsxs)(on,{children:[Object(_.jsx)(dt,{type:"text",labelText:"Canister ID",list:"canisters",value:c,onChange:async function(e){const t=e.target.value;let n;await s(t);try{const e=Jt.a.fromText(t);if(Xt.hasOwnProperty(t)){const e=Xt[t];o(e.name),n=e.candid}n||(n=await Object(y.d)(e)),d(n),h("")}catch(a){/no query method/.test(a)?(d(""),g(!0),h("")):/not found/.test(a)?h("Canister id not found"):/valid checksum/.test(a)?h("Not a valid principal"):h(a.message)}}}),Object(_.jsx)("datalist",{id:"canisters",children:Object.entries(Xt).map((e=>{let[t,n]=e;return Object(_.jsx)("option",{value:t,children:n.name},t)}))}),Object(_.jsx)(dt,{type:"text",labelText:"Canister name",value:r,onChange:e=>o(e.target.value)}),Object(_.jsx)(dt,{type:"checkbox",labelText:"Generate Motoko binding",checked:j,onChange:e=>f(e.target.checked)}),b&&Object(_.jsx)(rn,{children:b}),u&&Object(_.jsx)(dt,{type:"file",labelText:"Upload did file",accept:".did",onChange:w}),Object(_.jsxs)(cn,{children:[Object(_.jsx)(sn,{variant:"primary",onClick:async function(){if(b||!r||!c||!l)return;const e={id:Jt.a.fromText(c),isExternal:!0,name:r,candid:l};if(await O.Moc({type:"save",file:"idl/".concat(c,".did"),content:l}),await x({type:"deployWorkplace",payload:{canister:e}}),j){const e=r+".mo",t=(await y.c.binding(l,"mo"))[0];await O.Moc({type:"save",file:e,content:t}),await x({type:"saveFile",payload:{path:e,contents:t}})}await n()},children:"Import"}),Object(_.jsx)(sn,{onClick:n,children:"Cancel"})]})]})}),Object(_.jsx)(Mt,{label:"Deploy Wasm",children:Object(_.jsxs)(on,{children:[Object(_.jsx)(dt,{type:"file",labelText:"Upload Wasm module",accept:".wasm",onChange:function(e){const t=new FileReader;t.addEventListener("load",(async()=>{const n=new Uint8Array(t.result);m(n);try{const[e,t]=await async function(e){const t=await WebAssembly.compile(e),n=me(t,"candid:service");if(!n)throw new Error("Cannot find candid:service metadata in Wasm module");return[n,me(t,"candid:args")]}(n);if(t){const n=(await y.c.merge_init_args(e,t))[0];if(!n)return void h("Cannot merge candid:args with candid:service from Wasm");d(n)}else d(e)}catch(e){h(e.toString())}}));const n=e.target.files[0];n.size>2097152?h("Wasm size should be less than 2MB"):(h(""),a.setMainFile(n.name),t.readAsArrayBuffer(n))}}),b&&Object(_.jsx)(dt,{type:"file",labelText:"Upload did file",accept:".did",onChange:w}),b&&Object(_.jsx)(rn,{children:b}),Object(_.jsxs)(cn,{children:[Object(_.jsx)(sn,{variant:"primary",onClick:async function(){if(!l||!p)return;h("");const e=(await Object(y.b)(l)).init({IDL:F.a});await n(),await a.setWasm(p),await a.setInitTypes(e),await a.setCandidCode(l),await a.setShowDeployModal(!0),await x({type:"setOrigin",payload:{origin:"playground",tags:["upload:wasm"]}})},children:"Deploy"}),Object(_.jsx)(sn,{onClick:n,children:"Cancel"})]})]})})]})]})})}var dn,pn,mn,un,gn=n.p+"static/media/icon-folder.a8648324.svg",bn=n.p+"static/media/icon-file.d35ca230.svg";const hn=l.c.details(dn||(dn=Object(s.a)(["\n  width: 100%;\n  font-size: 1.4rem;\n  background-color: var(--grey100);\n"]))),jn=l.c.summary(pn||(pn=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  height: 3rem;\n  padding-left: calc("," * 1.6rem);\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    color: var(--colorPrimary);\n  }\n"])),(e=>{let{nestDepth:t}=e;return t+1})),fn=Object(l.c)(Fe)(mn||(mn=Object(s.a)(["\n  padding-left: calc("," * 1.6rem);\n  border-bottom: none;\n  height: 3rem;\n  user-select: none;\n"])),(e=>{let{nestDepth:t}=e;return t+1})),On=l.c.img(un||(un=Object(s.a)(["\n  width: 1.6rem;\n  margin-right: 0.8rem;\n"])));function yn(e){const{folderStructure:t,onSelectFile:n,activeFile:a,nestDepth:i=0}=e,r=Object.entries(t.folders).map((e=>{let[t,r]=e;return Object(_.jsxs)(hn,{open:!0,children:[Object(_.jsxs)(jn,{nestDepth:i,children:[Object(_.jsx)(On,{src:gn,alt:""}),t]}),yn({folderStructure:r,onSelectFile:n,activeFile:a,nestDepth:i+1})]},t)}));return t.files.forEach((e=>{const t=e.split("/").pop(),o=a===e;r.push(Object(_.jsxs)(fn,{nestDepth:i,onClick:()=>n(e),isActive:o,disabled:o,"aria-label":"File",children:[Object(_.jsx)(On,{src:bn,alt:""}),t]},t))})),Object(_.jsx)(_.Fragment,{children:r})}function _n(e){let{filePaths:t,onSelectFile:n,activeFile:a}=e;const i=function(e){return e.reduce(((e,t)=>{const n=t.split("/").slice(0,-1);let a=e;for(const i of n)i in a.folders||(a.folders[i]={files:[],folders:{}}),a=a.folders[i];return a.files.push(t),e}),{files:[],folders:{}})}(t);return Object(_.jsx)(_.Fragment,{children:yn({folderStructure:i,onSelectFile:n,activeFile:a})})}var xn,wn,vn,kn;const Cn=l.c.div(xn||(xn=Object(s.a)(["\n  width: var(--explorerWidth);\n  overflow-y: auto;\n  overflow-wrap: anywhere;\n"]))),En=l.c.div(wn||(wn=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  padding-left: 1rem;\n  height: 2.4rem;\n  font-size: 1.2rem;\n  font-weight: bold;\n  border-bottom: 1px solid var(--grey300);\n  text-transform: uppercase;\n"]))),Sn=l.c.button(vn||(vn=Object(s.a)(["\n  background: none;\n  border: none;\n  box-shadow: none;\n  margin-left: auto;\n"]))),Tn=Object(l.c)(Sn)(kn||(kn=Object(s.a)(["\n  padding: 0;\n  margin-right: -1.1rem;\n  margin-left: -0.3rem;\n"])));function An(e){let{state:t,ttl:n,logger:a,deploySetter:r}=e;const[o,c]=Object(i.useState)([]),[s,l]=Object(i.useState)([]),[d,p]=Object(i.useState)(!1),[m,u]=Object(i.useState)(!1),[g,b]=Object(i.useState)(!1),h=Object(i.useContext)(le),j=async(e,n)=>{switch(n){case"select":return h({type:"selectCanister",payload:{name:e}});case"delete":case"expired":if(t.canisters[e].timestamp)if("delete"===n){const n=t.canisters[e];a.log("Deleting canister ".concat(e," with id ").concat(n.id.toText(),"...")),await async function(e){await y.a.removeCode(e)}(n),a.log("Canister deleted")}else a.log("Canister ".concat(e," expired"));return h({type:"deleteCanister",payload:{name:e}});default:throw new Error("unknown action ".concat(n))}},f=e=>{if(e){const t=BigInt(Date.now())*BigInt(1e6);return Number((n-(t-e))/BigInt(1e9))}};return Object(i.useEffect)((()=>{if(0===Object.keys(t.canisters).length)return;const e=setTimeout((()=>{const e=Object.values(t.canisters).map((e=>[e.name,f(e.timestamp)])),n=e.filter((e=>{let[t,n]=e;return n&&n<=0})).map((e=>{let[t,n]=e;return t}));n.length>0&&JSON.stringify(s)!==JSON.stringify(n)&&l(n),c(e.map((e=>{let[t,n]=e;if(!n)return{};if(n>0){const e=n%60;return{status:"Active",minutes:Math.floor(n/60).toString(),seconds:e.toString().padStart(2,"0")}}return{status:"Expired"}})))}),1e3);return()=>clearTimeout(e)}),[t.canisters,o]),Object(i.useEffect)((()=>{s.forEach((e=>{j(e,"expired")}))}),[s]),Object(_.jsxs)(Cn,{children:[Object(_.jsx)(Gt,{isOpen:m,close:()=>u(!1)}),Object(_.jsx)(zt,{isOpen:d,close:()=>p(!1),loadPackage:e=>{h({type:"loadPackage",payload:{name:e.name,package:e}})}}),Object(_.jsx)(ln,{isOpen:g,close:()=>b(!1),deploySetter:r}),Object(_.jsxs)(En,{children:["Files",Object(_.jsx)(Sn,{onClick:()=>u(!0),"aria-label":"Add file",children:Object(_.jsx)("img",{style:{width:"1.6rem"},src:Ie,alt:""})})]}),Object(_.jsx)(_n,{filePaths:Object.keys(t.files).sort(),onSelectFile:e=>{h({type:"selectFile",payload:{path:e}})},activeFile:t.selectedFile}),Object(_.jsxs)(En,{children:["Packages",Object(_.jsx)(Sn,{onClick:()=>p(!0),"aria-label":"Add package",children:Object(_.jsx)("img",{style:{width:"1.6rem"},src:Ie,alt:""})})]}),Object.values(t.packages).map(((e,t)=>Object(_.jsxs)(Fe,{onClick:()=>{window.open(e.homepage,"_blank")},disabled:!!e.homepage,"aria-label":"Select motoko package",children:[Object(_.jsx)("img",{src:Me,alt:""}),Object(_.jsxs)("p",{children:["mo:",e.name]})]},"".concat(e.name).concat(e.version).concat(t)))),Object(_.jsxs)(En,{children:["Canisters",Object(_.jsx)(Sn,{onClick:()=>b(!0),"aria-label":"Add canister",children:Object(_.jsx)("img",{style:{width:"1.6rem"},src:Ie,alt:""})})]}),Object.keys(t.canisters).map(((e,n)=>{var a,i,r;return Object(_.jsxs)(Fe,{isActive:t.selectedCanister===e,disabled:t.selectedCanister===e,onClick:()=>j(e,"select"),"aria-label":"Select canister",children:[Object(_.jsx)("img",{style:{width:"2rem"},src:Re,alt:""}),"canister:",e,"Active"===(null===(a=o[n])||void 0===a?void 0:a.status)?Object(_.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(_.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:null===(i=o[n])||void 0===i?void 0:i.minutes}),":",Object(_.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:null===(r=o[n])||void 0===r?void 0:r.seconds})]}):Object(_.jsx)("div",{style:{marginLeft:"auto"}}),Object(_.jsx)(Tn,{onClick:()=>j(e,"delete"),"aria-label":"Delete canister ".concat(e),children:Object(_.jsx)("img",{src:Pe,alt:""})})]},e)}))]})}var Dn,Mn,Rn=n.p+"static/media/icon-save.86f06f08.svg",Pn=n.p+"static/media/motoko-lab-logo.2607b6c2.png",In=n.p+"static/media/motoko-lab-wordmark.804c0641.svg";const Fn=Object(l.c)("img")(Dn||(Dn=Object(s.a)(["\n  ","\n"])),(e=>e.horizontal?"\n  width: 10.9rem;\n  margin: -1.6rem;\n  margin-left: -1.2rem;\n":"\n  width: 16.5rem;\n  margin: -1.8rem 0 0.5rem;\n")),Wn=Object(l.c)("img")(Mn||(Mn=Object(s.a)(["\n  ","\n"])),(e=>e.horizontal?"\n  margin-left: 2.4rem;\n  height: 34px;\n":"\n  width: 350px;\n  margin-bottom: 4rem;\n"));function Nn(e){let{horizontal:t=!1}=e;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Fn,{src:Pn,horizontal:t,alt:"Motoko Ghost Logo in wireframe"}),Object(_.jsx)(Wn,{src:In,horizontal:t,alt:"Motoko Playground"})]})}var Ln,qn,Un,zn;const Bn=Object(l.c)("header")(Ln||(Ln=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: var(--headerHeight);\n  padding: 0 1.6rem;\n  background-color: ",";\n"])),(e=>e.darkMode?"black":"white")),Hn=l.c.div(qn||(qn=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  width: fit-content;\n  height: 6.4rem;\n"]))),Kn=Object(l.c)(L)(Un||(Un=Object(s.a)(["\n  > *:not(:last-child) {\n    margin-right: 1.8rem;\n  }\n"]))),Vn=l.c.a(zn||(zn=Object(s.a)(["\n  letter-spacing: 0.04rem;\n  font-size: 1.8rem;\n  font-weight: 500;\n  padding: 1rem 1.6rem;\n  color: var(--grey600);\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"])));function Gn(e){let{shareProject:t,openTutorial:n,darkMode:a=!1}=e;return Object(_.jsxs)(Bn,{darkMode:a,children:[Object(_.jsx)(Hn,{children:Object(_.jsx)(Nn,{horizontal:!0})}),Object(_.jsxs)(Kn,{children:[Object(_.jsx)(Vn,{href:"https://internetcomputer.org/docs/current/developer-docs/build/cdks/motoko-dfinity/motoko/",target:"_blank",rel:"noopener noreferrer",children:"Motoko Docs"}),Object(_.jsx)(Vn,{href:"https://internetcomputer.org/docs/current/developer-docs/quickstart/hello10mins",target:"_blank",rel:"noopener noreferrer",children:"Internet Computer SDK"}),Object(_.jsxs)(W,{width:"15.6rem",onClick:t,children:[Object(_.jsx)("img",{src:Rn,alt:"Save icon"}),Object(_.jsx)("p",{children:"Save & Share"})]}),Object(_.jsxs)(W,{width:"16.4rem",onClick:n,children:[Object(_.jsx)("img",{src:Ie,alt:"Plus icon"}),Object(_.jsx)("p",{children:"Open Example"})]})]})]})}const Jn={repo:"dfinity/examples",branch:"master"},Xn="https://raw.githubusercontent.com/dfinity/examples/master/motoko",Yn=[{name:"Hello, world",repo:{dir:"motoko/echo/src",...Jn},readme:"".concat(Xn,"/echo/README.md")},{name:"Counter",repo:{dir:"motoko/counter/src",...Jn},readme:"".concat(Xn,"/counter/README.md")},{name:"Calculator",repo:{dir:"motoko/calc/src",...Jn},readme:"".concat(Xn,"/calc/README.md")},{name:"Who am I?",repo:{dir:"motoko/whoami/src",...Jn},readme:"".concat(Xn,"/whoami/README.md")},{name:"Phone Book",repo:{dir:"motoko/phone-book/src/phone-book",...Jn},readme:"".concat(Xn,"/phone-book/README.md")},{name:"Super Heroes",repo:{dir:"motoko/superheroes/src/superheroes",...Jn},readme:"".concat(Xn,"/superheroes/README.md")},{name:"Random Maze",repo:{dir:"motoko/random_maze/src/random_maze",...Jn},readme:"".concat(Xn,"/random_maze/README.md")},{name:"Game of Life",repo:{dir:"motoko/life",...Jn},readme:"".concat(Xn,"/life/README.md")},{name:"Publisher and Subscriber",repo:{dir:"motoko/pub-sub/src",...Jn},readme:"".concat(Xn,"/pub-sub/README.md")},{name:"Actor Classes",repo:{dir:"motoko/classes/src",...Jn},readme:"".concat(Xn,"/classes/README.md")},{name:"Basic DAO",repo:{dir:"motoko/basic_dao/src",...Jn},readme:"".concat(Xn,"/basic_dao/README.md")}];var Qn,Zn,$n,ea;const ta=l.c.div(Qn||(Qn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 40rem;\n  font-size: 1.4rem;\n"]))),na=l.c.div(Zn||(Zn=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n"])));function aa(e){let{onClick:t,children:n}=e;return Object(_.jsx)(Fe,{onClick:t,children:Object(_.jsxs)(na,{children:[Object(_.jsx)("span",{children:n}),Object(_.jsx)("img",{src:tt,alt:"Continue"})]})})}const ia=l.c.span($n||($n=Object(s.a)(["\n  margin: 1rem 0 2rem;\n  font-size: 1.6rem;\n  font-weight: 500;\n"]))),ra=Object(l.c)(W)(ea||(ea=Object(s.a)(["\n  width: 24rem;\n  margin-top: 3rem;\n"])));function oa(e){let{isOpen:t,close:n,importCode:a,isFirstOpen:r}=e;const o=Object(i.useContext)(de),c=Object(i.useContext)(le);async function s(e){const t=await async function(e,t){let n=await e.fetchGithub(t.repo);n&&t.readme&&(n={README:await(await fetch(t.readme)).text(),...n});return n}(o,e);t&&(await a(t),n()),await c({type:"setOrigin",payload:{origin:"playground",tags:["example:".concat(e.name)]}})}const l=Object(_.jsxs)("p",{children:["Welcome to the Motoko Playground! Explore Motoko, the native language of the Internet Computer, right in the browser without having to download the SDK. See our open source repository to"," ",Object(_.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/dfinity/motoko-playground",children:"learn more"}),"."]}),d=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("p",{children:[Object(_.jsx)("strong",{children:"Warning:"})," Any edits you've made will be lost when switching to a new project."]}),Object(_.jsxs)("p",{children:["Press ",Object(_.jsx)("kbd",{children:"Esc"}),' or the "Cancel" button below to go back.']})]}),p=r?"Select a project to get started":"Select a project to continue";return Object(_.jsx)(Ge,{isOpen:t,close:n,label:"Welcome to Motoko Lab",shouldCloseOnEsc:!r,shouldCloseOnOverlayClick:!r,children:Object(_.jsxs)(ta,{children:[Object(_.jsx)(Nn,{}),r?l:d,Object(_.jsx)(ia,{children:p}),Object(_.jsxs)(Dt,{width:"39rem",children:[Object(_.jsx)(Mt,{label:"Example Projects",children:Object(_.jsxs)(Le,{height:"28.95rem",children:[Object(_.jsx)(aa,{onClick:async function(){await a({"Main.mo":""}),n(),await c({type:"setOrigin",payload:{origin:"playground",tags:["file:new"]}})},children:"New Motoko project"}),Yn.map((e=>Object(_.jsx)(aa,{onClick:()=>s(e),children:e.name},e.name)))]})}),Object(_.jsx)(Mt,{label:"Import from Github",children:Object(_.jsx)(Ot,{importCode:a,close:n})})]}),!r&&Object(_.jsx)(ra,{onClick:n,children:"Cancel"})]})})}var ca,sa,la;const da=l.c.div(ca||(ca=Object(s.a)(["\n  width: 40rem;\n"]))),pa=l.c.div(sa||(sa=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]))),ma=Object(l.c)(W)(la||(la=Object(s.a)(["\n  margin-top: 2rem;\n  width: 14rem;\n"])));function ua(e){let{isOpen:t,close:n,onConfirm:a,onCancel:i=(()=>{}),children:r}=e;return Object(_.jsx)(Ge,{isOpen:t,close:n,label:"Confirm",children:Object(_.jsxs)(da,{children:[r,Object(_.jsxs)(pa,{children:[Object(_.jsx)(ma,{variant:"primary",onClick:function(){a(),n()},children:"Continue"}),Object(_.jsx)(ma,{onClick:function(){i(),n()},children:"Cancel"})]})]})})}var ga,ba,ha,ja,fa,Oa,ya,_a,xa;n(273);const wa=l.c.div(ga||(ga=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 46rem;\n"]))),va=l.c.div(ba||(ba=Object(s.a)(["\n  width: 100%;\n  margin-top: 2rem;\n"]))),ka=l.c.div(ha||(ha=Object(s.a)(["\n  border: 1px solid var(--grey400);\n  border-radius: 1.5rem;\n  padding: 1rem calc(2rem - 1px);\n  margin: 1rem 0 2rem;\n\n  input {\n    width: 100%;\n    color: var(--grey700);\n    border: 1px solid var(--grey500);\n    padding: 0.3rem 1rem;\n    border-radius: 0;\n\n    + span {\n      font-size: 1.4rem;\n      margin: -0.5rem 0 0.5rem;\n    }\n  }\n"]))),Ca=l.c.div(ja||(ja=Object(s.a)(["\n  width: 100%;\n  background-color: var(--colorWarning);\n  border-radius: 1.5rem;\n  margin-top: 2rem;\n  padding: 1rem 2rem;\n  font-size: 1.4rem;\n\n  ul {\n    padding-left: 1.4rem;\n  }\n"]))),Ea=l.c.pre(fa||(fa=Object(s.a)(["\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n"]))),Sa=l.c.strong(Oa||(Oa=Object(s.a)(["\n  display: block;\n  text-align: center;\n  font-size: 1.6rem;\n  margin-bottom: 1rem;\n"]))),Ta=l.c.div(ya||(ya=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-top: 3rem;\n"]))),Aa=Object(l.c)(W)(_a||(_a=Object(s.a)(["\n  width: 12rem;\n"]))),Da=Object(l.c)("pre")(xa||(xa=Object(s.a)(["\n  display: block;\n  border-radius: 12px;\n  padding: 12px;\n  background-color: rgba(255, 255, 255, 0.5);\n"])));function Ma(e){let{state:t,isOpen:n,close:a,onDeploy:r,isDeploy:o,canisters:c,ttl:s,fileName:l,wasm:d,candid:p,initTypes:m,logger:u,origin:g}=e;const[b,h]=Object(i.useState)(""),[j,f]=Object(i.useState)([]),[O,x]=Object(i.useState)(!1),[w,v]=Object(i.useState)(""),[k,C]=Object(i.useState)(""),[E,S]=Object(i.useState)(!1),[T,A]=Object(i.useState)(!1),[D,M]=Object(i.useState)(!1),[R,P]=Object(i.useState)("incremental"),[I,W]=Object(i.useState)({wasm:void 0}),[N,L]=Object(i.useState)(""),[q,U]=Object(i.useState)(!1),z=Object(i.useContext)(de),B=Object(i.useContext)(le),H=Object.keys(c).length>=3,K=!d;Object(i.useEffect)((()=>{H||h(function(e){const t=e.split("/"),n=t.pop().toLowerCase();if("main.mo"===n&&t.length)return t.pop().toLowerCase();{const e=n.lastIndexOf(".");return-1===e?n:n.slice(0,e)}}(l))}),[l]),Object(i.useEffect)((()=>{if(N&&I.wasm){if("upgrade"===N&&!q)return void async function(){let e=!1;if(c[b].stableSig&&I.stable){await z.Moc({type:"save",file:"pre.most",content:c[b].stableSig}),await z.Moc({type:"save",file:"post.most",content:I.stable});const t=await z.Moc({type:"stableCheck",pre:"pre.most",post:"post.most"});if(t.diagnostics){const n=t.diagnostics.map((e=>"[".concat(e.code,"] ").concat(e.message))).join("\n");if(await C(n),n){e=!0;for(const e of t.diagnostics)await B({type:"addSessionTag",payload:"moc:warn:".concat(e.code)})}}else await C("")}if(c[b].candid&&I.candid){const t=c[b].candid,n=await y.c.subtype(I.candid,t);if(n.hasOwnProperty("Err")){const t=n.Err.replaceAll("expected type","pre-upgrade interface");await v(t),t&&(e=!0,await B({type:"addSessionTag",payload:"moc:warn:candid"}))}else await v("")}e?x(!0):U(!0)}();q&&async function(e){const n=G();await async function(){m.length>0&&await B({type:"addSessionTag",payload:"wasm:init_args"});D&&await B({type:"addSessionTag",payload:"moc:gc:force"});"incremental"!==R&&await B({type:"addSessionTag",payload:"moc:gc:".concat(R)});for(const n of Object.values(t.packages))if("base"!==n.name){let e=n.repo;n.repo.startsWith("https://github.com/")&&n.repo.endsWith(".git")&&(e=n.repo.slice(19,-4)),await B({type:"addSessionTag",payload:"import:package:".concat(e)})}for(const n of Object.values(t.canisters))n.isExternal&&await B({type:"addSessionTag",payload:"import:canister:".concat(n.id)});try{const e=await async function(e,t){const n=new Set,a=new Set;return await async function t(i){if(n.has(i))return;n.add(i);const r=await e.Moc({type:"printDeps",file:i});for(const e of r.split("\n"))if(e.indexOf(":")>0)e.startsWith("mo:base/")&&a.add(e.slice(8));else{const n=e.split(" ");2===n.length&&await t(n[1])}}(t),Array.from(a)}(z,l);for(const t of e)await B({type:"addSessionTag",payload:"import:base:".concat(t)})}catch(e){}}(),console.log(g);try{await o(!0);const t=await ue(z,b,c[b],n,e,I.wasm,E,T,u,g);await o(!1),t&&(t.candid=I.candid,t.stableSig=I.stable,await z.Moc({type:"save",file:"idl/".concat(t.id,".did"),content:I.candid}),r(t)),W({wasm:void 0}),await B({type:"clearSessionTags"})}catch(a){throw o(!1),await B({type:"clearSessionTags"}),a}}(N)}}),[I,q,N]),Object(i.useEffect)((()=>{const e=m.map((e=>Object(F.e)(e)));f(e)}),[m]);const V=Object(i.useCallback)((e=>{e&&j.forEach((t=>t.render(e)))}),[j]),G=()=>{if(!m.length)return F.a.encode(m,[]);const e=j.map((e=>e.parse()));return j.some((e=>e.isRejected()))?void 0:F.a.encode(m,e)};const J=async e=>{if(void 0!==G()){await a(),await B({type:"clearSessionTags"});try{if(U(!1),L(e),d)await W({wasm:d,candid:p});else{D?await z.Moc({type:"gcFlags",option:"force"}):await z.Moc({type:"gcFlags",option:"scheduling"}),await z.Moc({type:"gcFlags",option:R}),await z.Moc({type:"setPublicMetadata",list:["candid:service","candid:args","motoko:stable-types"]});const e=await async function(e,t,n){n.log("Compiling code...");const a=await e.Moc({type:"compile",file:t});if(a.diagnostics&&pe(a.diagnostics,n),null===a.code)return void n.log("syntax error");if(""===a.code.candid.trim())return void n.log("cannot deploy: ".concat(t," has no actor"));if(null===a.code.stable)return void n.log("cannot deploy: ".concat(t," cannot generate stable signature"));n.log("Compiled Wasm size: ".concat(Math.floor(a.code.wasm.length/1024),"KB"));let i=[];return a.diagnostics&&(i=a.diagnostics.map((e=>e.code))),[a.code,i]}(z,l,u);if(!e)throw new Error("syntax error");await W(e[0]);for(const t of e[1])await B({type:"addSessionTag",payload:"moc:warn:".concat(t)})}"upgrade"!==e&&U(!0)}catch(t){throw o(!1),t}}},X=Object(_.jsx)("p",{children:"Deploy your canister to the IC"}),Y=Object(_.jsxs)(Ca,{children:[Object(_.jsx)(Sa,{children:"Note:"}),Object(_.jsxs)("ul",{children:[H&&Object(_.jsxs)("li",{children:["You can deploy at most ",3," canisters at the same time."]}),Object(_.jsx)("li",{children:"Cycle transfer instructions are silently ignored by the system."}),Object(_.jsx)("li",{children:"Canister can use at most 1GB of stable memory."}),Object(_.jsx)("li",{children:"Canister can call management canister to manage itself without being the controller."}),Object(_.jsxs)("li",{children:["Deployed canister expires after"," ",(s/BigInt(6e10)).toString()," minutes."]})]})]}),Q=Object(_.jsxs)(Ca,{children:[Object(_.jsx)(Sa,{children:"Note on Profiling"}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:"If you do not need to profile canister upgrade and the canister code doesn't access stable memory, you do not need to do anything else."}),Object(_.jsxs)("li",{children:['Otherwise, you need to check the "Reserved the first region in stable memory for profiling" checkbox, and add the following code at the top of the actor: (see'," ",Object(_.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/dfinity/ic-wasm#working-with-upgrades-and-stable-memory",children:"this doc"})," ","for more background)"]})]}),Object(_.jsx)(Da,{children:'import Region "mo:base/Region";\nactor {\n  stable let profiling = do {\n    let r = Region.new();\n    ignore Region.grow(r, 32);\n    r\n  };\n  ...\n'}),Object(_.jsx)("ul",{children:Object(_.jsx)("li",{children:"We cannot check if you have added the above code in your canister, but if you don't, the profiling may not work properly."})})]}),Z="Select a canister name",$=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(dt,{type:"text",labelText:Z,list:"canisters",value:b,onChange:e=>h(e.target.value)}),Object(_.jsx)("datalist",{id:"canisters",children:Object.keys(c).map(((e,t)=>Object(_.jsx)("option",{children:e},"".concat(e).concat(t))))})]}),ee=Object(_.jsx)(dt,{required:!0,type:"select",labelText:Z,value:b,onChange:e=>h(e.target.value),children:Object.keys(c).map((e=>Object(_.jsx)("option",{value:e,children:e})))});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Ge,{isOpen:n,close:a,label:"Deploy Canister",shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:Object(_.jsxs)(wa,{children:[Object(_.jsxs)("div",{style:{maxHeight:680,overflowY:"auto",width:"100%"},children:[X,Object(_.jsxs)(va,{children:[H?ee:$,m.length>0&&Object(_.jsxs)(ka,{children:[Object(_.jsx)("p",{children:"This service requires the following installation arguments:"}),Object(_.jsxs)("p",{children:["(",m.map((e=>e.name)).join(", "),")"]}),Object(_.jsx)("div",{className:"InitArgs",ref:V})]}),Object(_.jsx)(dt,{type:"checkbox",labelText:"Enable profiling (experimental)",checked:E,onChange:e=>S(e.target.checked)}),E?Object(_.jsx)(dt,{type:"checkbox",labelText:"Reserved the first region in stable memory for profiling",checked:T,onChange:e=>A(e.target.checked)}):null,K?Object(_.jsxs)(ka,{children:[Object(_.jsxs)(dt,{type:"select",labelText:"GC strategy",value:R,onChange:e=>P(e.target.value),children:[Object(_.jsx)("option",{value:"incremental",children:"Incremental GC (default)"}),Object(_.jsx)("option",{value:"copying",children:"Copying GC"}),Object(_.jsx)("option",{value:"marking",children:"Marking GC"}),Object(_.jsx)("option",{value:"generational",children:"Generational GC"})]}),Object(_.jsx)(dt,{type:"checkbox",labelText:"Force garbage collection (only if you want to test GC)",checked:D,onChange:e=>M(e.target.checked)})]}):null]}),E?Object(_.jsx)(_.Fragment,{children:Q}):null,Y]}),Object(_.jsxs)(Ta,{children:[c.hasOwnProperty(b)?Object(_.jsxs)(_.Fragment,{children:[!E||E&&T?Object(_.jsx)(Aa,{variant:"primary",onClick:()=>J("upgrade"),children:"Upgrade"}):null,Object(_.jsx)(Aa,{onClick:()=>J("reinstall"),children:"Reinstall"})]}):Object(_.jsx)(Aa,{variant:"primary",onClick:()=>J("install"),children:"Install"}),Object(_.jsx)(Aa,{onClick:a,children:"Cancel"})]})]})}),Object(_.jsxs)(ua,{isOpen:O,close:()=>x(!1),onConfirm:()=>U(!0),children:[Object(_.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"Warning"}),k?Object(_.jsxs)(Ca,{children:[Object(_.jsx)("strong",{children:"Incompatible stable signature will cause data loss:"}),Object(_.jsx)(Ea,{children:k})]}):null,w?Object(_.jsxs)(Ca,{children:[Object(_.jsx)("strong",{children:"Upgrade is not backward compatible:"})," ",Object(_.jsx)(Ea,{children:w})]}):null,Object(_.jsx)("p",{style:{fontSize:"1.4rem",marginTop:"2rem"},children:'Press "Continue" to upgrade canister anyway.'})]})]})}var Ra,Pa;const Ia="0.11.1",Fa=Object(l.a)(Ra||(Ra=Object(s.a)(['\n  :root {\n    font-family: "CircularXX", sans-serif;\n    font-size: 10px;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    margin: 0;\n    font-size: 1.6rem;\n    color: var(--grey700);\n  }\n\n  button {\n    cursor: pointer;\n\n    &:active {\n      filter: brightness(0.85);\n    }\n  }\n']))),Wa=l.c.div(Pa||(Pa=Object(s.a)(["\n  display: flex;\n  height: var(--appHeight);\n  overflow: hidden;\n\n  width: 100vw;\n  border-top: 1px solid var(--grey400);\n  --candidWidth: ",";\n  --consoleHeight: ",";\n"])),(e=>{var t;return null!==(t=e.candidWidth)&&void 0!==t?t:0}),(e=>{var t;return null!==(t=e.consoleHeight)&&void 0!==t?t:0})),Na=new p.a,La=new URLSearchParams(window.location.search),qa=!!(La.get("git")||La.get("tag")||La.get("post"));function Ua(){var e,t;const[n,a]=Object(i.useReducer)(se.reduce,{},se.init),[r,o]=Object(i.useState)(!qa),[c,s]=Object(i.useState)(!qa),[l,d]=Object(i.useState)(!1),[p,m]=Object(i.useState)("0"),[u,g]=Object(i.useState)("3rem"),[b,h]=Object(i.useState)(BigInt(0)),[j,f]=Object(i.useReducer)((e=>(e+1)%10),0),[O,x]=Object(i.useState)(!1),[w,v]=Object(i.useState)(!1),[k,C]=Object(i.useState)(""),[E,S]=Object(i.useState)([]),[A,D]=Object(i.useState)(""),[M,R]=Object(i.useState)(void 0),P={setMainFile:D,setInitTypes:S,setCandidCode:C,setShowDeployModal:x,setWasm:R},I=J();const F=Object(i.useCallback)((e=>{a({type:"loadProject",payload:{files:e}})}),[a]);return Object(i.useEffect)((()=>{const e={name:"base",repo:"https://github.com/dfinity/motoko-base.git",dir:"src",version:"moc-".concat(Ia),homepage:"https://sdk.dfinity.org/docs/base-libraries/stdlib-intro.html"};(async()=>{if(await Na.fetchPackage(e),await a({type:"loadPackage",payload:{name:"base",package:e}}),I.log("moc version ".concat(Ia)),I.log("base library version ".concat(e.version)),qa){const e=await async function(e){const t=La.get("git"),n=La.get("tag"),a=La.get("post");if(a){const t=await Oe(a,e,Na);if(t){const{files:e}=t;return e}}if(t){const n={repo:t,branch:La.get("branch")||"main",dir:La.get("dir")||""};return await e({type:"setOrigin",payload:{origin:"playground",tags:["git:".concat(t)]}}),await Na.fetchGithub(n)}if(n){const t=await y.e.getProject(BigInt(n));if(1===t.length){const a=t[0].project,i=Object.fromEntries(a.files.map((e=>(Na.Moc({type:"save",file:e.name,content:e.content}),[e.name,e.content]))));if(a.packages.length)for(const t of a.packages[0]){const n={name:t.name,repo:t.repo,version:t.version,dir:t.dir.length?t.dir[0]:void 0,homepage:t.homepage.length?t.homepage[0]:void 0};await Na.fetchPackage(n)&&await e({type:"loadPackage",payload:{name:n.name,package:n}})}if(a.canisters.length)for(const t of a.canisters[0]){const n={id:t.id,isExternal:!0,name:t.name,candid:t.candid};await Na.Moc({type:"save",file:"idl/".concat(n.id,".did"),content:n.candid}),await e({type:"deployWorkplace",payload:{canister:n}})}return await e({type:"setOrigin",payload:{origin:"playground",tags:["tag:".concat(n)]}}),i}}}(a);e?F(e):I.log('Failed to fetch files from "'.concat(window.location.search,'"'))}})()}),[]),Object(i.useEffect)((()=>{(async()=>{h((await y.a.getInitParams()).canister_time_to_live)})()}),[]),Object(i.useEffect)((()=>{Na.Moc({type:"setActorAliases",list:oe(n.canisters)})}),[n.canisters]),Object(i.useEffect)((()=>{const e=n.selectedCanister&&n.canisters[n.selectedCanister];d(e),m(e?"30vw":"0")}),[n.canisters,n.selectedCanister]),Object(_.jsxs)("main",{children:[Object(_.jsx)(Fa,{}),Object(_.jsx)(Gn,{shareProject:async function(){I.log("Sharing project code...");const e=(t=n,{files:Object.entries(t.files).filter((e=>{let[t,n]=e;return t.endsWith(".mo")})).map((e=>{let[t,n]=e;return{name:t,content:n}})),packages:[Object.entries(t.packages).filter((e=>{let[t,n]=e;return"base"!==t})).map((e=>{let[t,n]=e;return{name:n.name,repo:n.repo,version:n.version,dir:n.dir?[n.dir]:[],homepage:n.homepage?[n.homepage]:[]}}))],canisters:[Object.values(t.canisters).filter((e=>e.isExternal&&e.name&&e.candid)).map((e=>({id:e.id,name:e.name,candid:e.candid})))]});var t;const a=await y.e.putProject(e);I.log("Use this link to access the code:\n".concat(window.location.origin,"/?tag=").concat(a.toString()))},openTutorial:()=>o(!0)}),Object(_.jsx)(le.Provider,{value:a,children:Object(_.jsxs)(de.Provider,{value:Na,children:[Object(_.jsx)(oa,{isOpen:r,importCode:F,close:function(){o(!1),c&&setTimeout((()=>s(!1)),750)},isFirstOpen:c}),Object(_.jsx)(Ma,{state:n,isOpen:O,close:()=>x(!1),onDeploy:e=>{f(),a({type:"deployWorkplace",payload:{canister:e}})},isDeploy:v,canisters:(W=n.canisters,Object.fromEntries(Object.entries(W).filter((e=>{let[t,n]=e;return!n.isExternal})))),ttl:b,fileName:A,wasm:M,candid:k,initTypes:E,logger:I,origin:n.origin}),Object(_.jsxs)(Wa,{candidWidth:p,consoleHeight:u,children:[Object(_.jsx)(An,{state:n,ttl:b,logger:I,deploySetter:P}),Object(_.jsx)(Se,{state:n,logger:I,deploySetter:P,isDeploying:w,setConsoleHeight:g}),l?Object(_.jsx)(T,{setCandidWidth:m,canisterId:null===(e=n.canisters[n.selectedCanister])||void 0===e?void 0:e.id.toString(),candid:null===(t=n.canisters[n.selectedCanister])||void 0===t?void 0:t.candid,forceUpdate:j,onMessage:e=>{let{origin:t,source:i,message:r}=e;if(!r.caller)return;const o=Object.fromEntries(Object.entries(n.canisters).map((e=>{let[t,n]=e;return[n.id,t]})));Object.entries(n.canisters).forEach((async e=>{let[t,n]=e;if(!n.timestamp||n.isExternal)return;(await y.a.getSubtree(n)).reverse().forEach((e=>{let[t,n]=e;const i=o[t];n.reverse().forEach(((e,t)=>{e.name="".concat(i,"_").concat(t),e.isExternal=!1,o[e.id]=e.name,a({type:"deployWorkplace",payload:{canister:e,do_not_select:!0}})}))}))}))}}):null]})]})})]});var W}var za=n(68);function Ba(e){let{title:t,data:n}=e;const a={title:t,chartArea:{width:"50%"},hAxis:{minValue:0},bars:"horizontal"};return Object(_.jsx)(_.Fragment,{children:n.length>1?Object(_.jsx)(za.a,{chartType:"BarChart",data:n,options:a,width:"100%",height:"".concat(80*(n.length-1),"px"),legendToggle:!0}):null})}function Ha(e){let{title:t,data:n}=e;const a={title:t,pieHole:.3,is3D:!1};return Object(_.jsx)(_.Fragment,{children:n.length>1?Object(_.jsx)(za.a,{chartType:"PieChart",data:n,options:a,width:"100%",height:"300px"}):null})}function Ka(e,t){const n=e.filter((e=>{let[n,a]=e;return t(n)&&Number(a)>1})).map((e=>{let[t,n]=e;return[t,Number(n)]}));return n.sort(((e,t)=>t[1]-e[1])),n}function Va(e,t,n,a){const i=Ka(e,a),r=Ka(t,a);return[[n,"Canister","Wasm"]].concat(function(e,t){const n=Object.fromEntries(e),a=Object.fromEntries(t),i=[...new Set(e.map((e=>{let[t,n]=e;return t})).concat(t.map((e=>{let[t,n]=e;return t}))))].map((e=>[e,n[e]||0,a[e]||0]));return i.sort(((e,t)=>t[2]-e[2])),i}(i,r))}function Ga(e,t,n){const a=Ka(e,n);return[[t,"Wasm"]].concat(a)}function Ja(e,t){return e.filter((e=>{let[n,a]=e;return n.startsWith(t)})).reduce(((e,t)=>{let[n,a]=t;return e+Number(a)}),0)}function Xa(){const[e,t]=Object(i.useState)([]),[n,a]=Object(i.useState)([]);return Object(i.useEffect)((()=>{!async function(){const[e,n,i]=await y.a.getStats();t(n),a(i)}()}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{style:{textAlign:"center"},children:[Object(_.jsx)("h1",{style:{margin:0},children:"Motoko Playground"}),Object(_.jsx)("h2",{style:{opacity:.5},children:"Usage Statistics"})]}),Object(_.jsx)(Ha,{title:"Install mode",data:Ga(n,"Install mode",(e=>e.startsWith("mode:")))}),Object(_.jsx)(Ha,{title:"Playground code source",data:(r=n,[["Code source","Wasm"],["file:new",Ja(r,"file:new")],["example",Ja(r,"example:")],["tag",Ja(r,"tag:")],["git",Ja(r,"git:")],["post",Ja(r,"post:")],["wasm",Ja(r,"upload:wasm")]])}),Object(_.jsx)(Ba,{title:"Origin",data:Va(e,n,"Origin",(e=>e.startsWith("origin:")))}),Object(_.jsx)(Ba,{title:"Example",data:Va(e,n,"Example",(e=>e.startsWith("example:")||e.startsWith("file:new")))}),Object(_.jsx)(Ba,{title:"Playground code imports",data:Va(e,n,"Playground imports",(e=>e.startsWith("post:")||e.startsWith("git:")||e.startsWith("tag:")||e.startsWith("upload:wasm")))}),Object(_.jsx)(Ba,{title:"Reference link",data:Va(e,n,"Reference link",(e=>e.startsWith("ref:")))}),Object(_.jsx)(Ba,{title:"Project imports",data:Ga(n,"Imports",(e=>e.startsWith("import:")))}),Object(_.jsx)(Ba,{title:"Moc flags",data:Ga(n,"Moc",(e=>e.startsWith("moc:")))}),Object(_.jsx)(Ba,{title:"Wasm properties",data:Ga(n,"Wasm",(e=>e.startsWith("wasm:")))})]});var r}var Ya=e=>{e&&e instanceof Function&&n.e(4).then(n.bind(null,300)).then((t=>{let{getCLS:n,getFID:a,getFCP:i,getLCP:r,getTTFB:o}=t;n(e),a(e),i(e),r(e),o(e)}))};n(274),n(275),n(276);"/stats"===window.location.pathname?c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(Xa,{})}),document.getElementById("root")):c.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(G,{children:Object(_.jsx)(Ua,{})})}),document.getElementById("root")),Ya()},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(18);const i=e=>{let{IDL:t}=e;const n=t.Record({max_num_canisters:t.Nat,canister_time_to_live:t.Nat,cycles_per_canister:t.Nat,nonce_time_to_live:t.Nat,max_family_tree_size:t.Nat}),a=t.Record({id:t.Principal,timestamp:t.Int}),i=t.Principal,r=t.Record({freezing_threshold:t.Nat,controllers:t.Vec(t.Principal),memory_allocation:t.Nat,compute_allocation:t.Nat}),o=t.Record({freezing_threshold:t.Opt(t.Nat),controllers:t.Opt(t.Vec(t.Principal)),memory_allocation:t.Opt(t.Nat),compute_allocation:t.Opt(t.Nat)}),c=t.Record({nonce:t.Nat,timestamp:t.Int}),s=t.Record({origin:t.Text,tags:t.Vec(t.Text)}),l=t.Record({num_of_installs:t.Nat,num_of_canisters:t.Nat,error_mismatch:t.Nat,error_out_of_capacity:t.Nat,cycles_used:t.Nat,error_total_wait_time:t.Nat}),d=t.Record({url:t.Text,method:t.Text,body:t.Vec(t.Nat8),headers:t.Vec(t.Tuple(t.Text,t.Text))}),p=t.Record({body:t.Vec(t.Nat8),headers:t.Vec(t.Tuple(t.Text,t.Text)),status_code:t.Nat16}),m=t.Record({arg:t.Vec(t.Nat8),wasm_module:t.Vec(t.Nat8),mode:t.Variant({reinstall:t.Null,upgrade:t.Null,install:t.Null}),canister_id:t.Principal}),u=t.Record({origin:s,profiling:t.Bool,is_whitelisted:t.Bool,start_page:t.Opt(t.Nat32),page_limit:t.Opt(t.Nat32)}),g=t.Vec(t.Nat8);return t.Service({GCCanisters:t.Func([],[],["oneway"]),balance:t.Func([],[t.Nat],["query"]),callForward:t.Func([a,t.Text,t.Vec(t.Nat8)],[t.Vec(t.Nat8)],[]),canister_status:t.Func([t.Record({canister_id:i})],[t.Record({status:t.Variant({stopped:t.Null,stopping:t.Null,running:t.Null}),memory_size:t.Nat,cycles:t.Nat,settings:r,module_hash:t.Opt(t.Vec(t.Nat8))})],[]),create_canister:t.Func([t.Record({settings:t.Opt(o)})],[t.Record({canister_id:i})],[]),delete_canister:t.Func([t.Record({canister_id:i})],[],[]),dump:t.Func([],[t.Vec(a)],["query"]),getCanisterId:t.Func([c,s],[a],[]),getInitParams:t.Func([],[n],["query"]),getStats:t.Func([],[l,t.Vec(t.Tuple(t.Text,t.Nat)),t.Vec(t.Tuple(t.Text,t.Nat))],["query"]),getSubtree:t.Func([a],[t.Vec(t.Tuple(t.Principal,t.Vec(a)))],["query"]),http_request:t.Func([d],[p],["query"]),installCode:t.Func([a,m,u],[a],[]),install_code:t.Func([t.Record({arg:t.Vec(t.Nat8),wasm_module:g,mode:t.Variant({reinstall:t.Null,upgrade:t.Null,install:t.Null}),canister_id:i})],[],[]),mergeTags:t.Func([t.Text,t.Opt(t.Text)],[],[]),removeCode:t.Func([a],[],[]),resetStats:t.Func([],[],[]),start_canister:t.Func([t.Record({canister_id:i})],[],[]),stop_canister:t.Func([t.Record({canister_id:i})],[],[]),uninstall_code:t.Func([t.Record({canister_id:i})],[],[]),update_settings:t.Func([t.Record({canister_id:i,settings:o})],[],[]),wallet_receive:t.Func([],[],[])})},r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANISTER_ID:"m7sm4-2iaaa-aaaab-qabra-cai"}).CANISTER_ID_BACKEND||"mwrha-maaaa-aaaab-qabqq-cai";!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.agent||new a.c({...t.agentOptions});t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),"ic"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANISTER_ID:"m7sm4-2iaaa-aaaab-qabra-cai"}).DFX_NETWORK&&n.fetchRootKey().catch((e=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(e)})),a.a.createActor(i,{agent:n,canisterId:e,...t.actorOptions})}(r)},72:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n(18);const i=e=>{let{IDL:t}=e;const n=t.Nat,a=t.Int,i=t.Record({content:t.Text,name:t.Text}),r=t.Record({dir:t.Opt(t.Text),name:t.Text,homepage:t.Opt(t.Text),repo:t.Text,version:t.Text}),o=t.Record({id:t.Principal,name:t.Text,candid:t.Text}),c=t.Record({files:t.Vec(i),packages:t.Opt(t.Vec(r)),canisters:t.Opt(t.Vec(o))}),s=t.Record({timestamp:a,project:c}),l=t.Record({byte_size:t.Nat,num_projects:t.Nat});return t.Service({getProject:t.Func([n],[t.Opt(s)],["query"]),getStats:t.Func([],[l],["query"]),putProject:t.Func([c],[n],[])})},r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANISTER_ID:"m7sm4-2iaaa-aaaab-qabra-cai"}).CANISTER_ID_SAVED||"vhtho-raaaa-aaaab-qadoq-cai";!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.agent||new a.c({...t.agentOptions});t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),"ic"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANISTER_ID:"m7sm4-2iaaa-aaaab-qabra-cai"}).DFX_NETWORK&&n.fetchRootKey().catch((e=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(e)})),a.a.createActor(i,{agent:n,canisterId:e,...t.actorOptions})}(r)},8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return backend})),__webpack_require__.d(__webpack_exports__,"e",(function(){return saved})),__webpack_require__.d(__webpack_exports__,"f",(function(){return uiCanisterUrl})),__webpack_require__.d(__webpack_exports__,"c",(function(){return didjs})),__webpack_require__.d(__webpack_exports__,"d",(function(){return fetchCandidInterface})),__webpack_require__.d(__webpack_exports__,"b",(function(){return didToJs}));var _dfinity_agent__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),_dfinity_principal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_dfinity_candid__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7),_declarations_backend__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71),_declarations_saved__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(72),_didjs_did__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(126);const LOCAL_PORT=4943,hostname=window.location.hostname,local="127.0.0.1"===hostname||hostname.endsWith("localhost"),agent=new _dfinity_agent__WEBPACK_IMPORTED_MODULE_0__.c({host:local?"http://localhost:".concat(LOCAL_PORT):"https://icp-api.io"});local&&agent.fetchRootKey();const backend=_dfinity_agent__WEBPACK_IMPORTED_MODULE_0__.a.createActor(_declarations_backend__WEBPACK_IMPORTED_MODULE_3__.b,{agent:agent,canisterId:_declarations_backend__WEBPACK_IMPORTED_MODULE_3__.a}),saved=_dfinity_agent__WEBPACK_IMPORTED_MODULE_0__.a.createActor(_declarations_saved__WEBPACK_IMPORTED_MODULE_4__.b,{agent:agent,canisterId:_declarations_saved__WEBPACK_IMPORTED_MODULE_4__.a}),uiCanisterId=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANISTER_ID:"m7sm4-2iaaa-aaaab-qabra-cai"}).__CANDID_UI_CANISTER_ID||(local?"bw4dl-smaaa-aaaaa-qaacq-cai":"a4gq6-oaaaa-aaaab-qaa4q-cai"),uiCanisterUrl=local?"http://".concat(uiCanisterId,".localhost:").concat(LOCAL_PORT):"https://".concat(uiCanisterId,".raw.icp0.io"),didjs=_dfinity_agent__WEBPACK_IMPORTED_MODULE_0__.a.createActor(_didjs_did__WEBPACK_IMPORTED_MODULE_5__.a,{agent:agent,canisterId:_dfinity_principal__WEBPACK_IMPORTED_MODULE_1__.a.fromText(uiCanisterId)});async function getDidFromMetadata(e){return(await _dfinity_agent__WEBPACK_IMPORTED_MODULE_0__.b.request({agent:agent,canisterId:e,paths:["candid"]})).get("candid")}async function getDidFromTmpHack(e){const t=_dfinity_agent__WEBPACK_IMPORTED_MODULE_0__.a.createActor((e=>{let{IDL:t}=e;return t.Service({__get_candid_interface_tmp_hack:t.Func([],[t.Text],["query"])})}),{agent:agent,canisterId:e});return await t.__get_candid_interface_tmp_hack()}async function fetchCandidInterface(e){const t=await getDidFromMetadata(e);return t||await getDidFromTmpHack(e)}async function didToJs(source){const js=await didjs.did_to_js(source);if(js===[])return;const dataUri="data:text/javascript;charset=utf-8,"+encodeURIComponent(js[0]),candid=await eval('import("'+dataUri+'")');return candid}}},[[277,1,2]]]);
//# sourceMappingURL=main.77673a2f.chunk.js.map